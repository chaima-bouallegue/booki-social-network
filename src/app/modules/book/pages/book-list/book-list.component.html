<div class="books-container">
  <div class="header-section">
    <h3 class="page-title">
      <i class="fas fa-book-open me-2"></i>Books List
    </h3>

    <div *ngIf="message"
         class="alert alert-custom"
         [class.alert-error]="level === 'error'"
         [class.alert-success]="level === 'success'"
         role="alert">
      <i class="fas" [class.fa-exclamation-circle]="level === 'error'" [class.fa-check-circle]="level === 'success'"></i>
      <p>{{ message }}</p>
      <button type="button" class="btn-close" (click)="message = ''" aria-label="Close"></button>
    </div>
  </div>

  <div class="divider"></div>

  <div *ngIf="bookResponse.content?.length; else noBooks" class="books-grid">
    <app-book-card
      *ngFor="let book of bookResponse.content"
      [book]="book"
      (borrow)="borrowBook($event)"
      (details)="displayBookDetails($event)"
    ></app-book-card>
  </div>

  <ng-template #noBooks>
    <div class="no-books">
      <i class="fas fa-book-dead"></i>
      <p>No books found</p>
    </div>
  </ng-template>

  <div class="pagination-container" *ngIf="(bookResponse.totalPages ?? 0) > 0">
    <nav aria-label="Page navigation">
      <ul class="pagination">
        <li class="page-item">
          <a (click)="goToFirstPage()"
             class="page-link"
             [class.disabled]="page === 0"
             title="First page">
            <i class="fa-solid fa-angles-left"></i>
          </a>
        </li>
        <li class="page-item">
          <a (click)="goToPreviousPage()"
             class="page-link"
             [class.disabled]="page === 0"
             title="Previous page">
            <i class="fa-solid fa-angle-left"></i>
          </a>
        </li>

        <li class="page-item" *ngFor="let pageIndex of pages">
          <a (click)="gotToPage(pageIndex)"
             class="page-link"
             [class.active]="page === pageIndex">
            {{ pageIndex + 1 }}
          </a>
        </li>

        <li class="page-item">
          <a (click)="goToNextPage()"
             class="page-link"
             [class.disabled]="isLastPage"
             title="Next page">
            <i class="fa-solid fa-angle-right"></i>
          </a>
        </li>
        <li class="page-item">
          <a (click)="goToLastPage()"
             class="page-link"
             [class.disabled]="isLastPage"
             title="Last page">
            <i class="fa-solid fa-angles-right"></i>
          </a>
        </li>
      </ul>
    </nav>
  </div>
</div>
